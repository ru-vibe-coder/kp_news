# KP News Crawler

üì∞ –í–µ–±-–∫—Ä–∞—É–ª–µ—Ä –Ω–∞ Scrapy + Playwright –¥–ª—è —Å–±–æ—Ä–∞ —Å–≤–µ–∂–∏—Ö –Ω–æ–≤–æ—Å—Ç–µ–π —Å —Å–∞–π—Ç–∞ [kp.ru](https://www.kp.ru).

–î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ MongoDB.

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1Ô∏è‚É£ –°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:
python3 -m venv venv
source venv/bin/activate
2Ô∏è‚É£ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
pip install -r requirements.txt

3Ô∏è‚É£ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Playwright –∏ –±—Ä–∞—É–∑–µ—Ä—ã:
playwright install

4Ô∏è‚É£ –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ MongoDB –∑–∞–ø—É—â–µ–Ω –ª–æ–∫–∞–ª—å–Ω–æ –Ω–∞ mongodb://localhost:27017.

## –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø–∞—É–∫–∞, —É–∫–∞–∑–∞–≤, —Å–∫–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –Ω–æ–≤–æ—Å—Ç–µ–π —Å–æ–±—Ä–∞—Ç—å (count=N):
scrapy crawl kp_spider -a count=10

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ MongoDB:
mongosh
use kp_news
db.news.find().pretty()

–û—á–∏—Å—Ç–∏—Ç—å –∫–æ–ª–ª–µ–∫—Ü–∏—é:
db.news.deleteMany({})
